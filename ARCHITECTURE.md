# é¡¹ç›®æ¶æ„è¯´æ˜

## æ¦‚è¿°

AI-Voca æ˜¯ä¸€ä¸ªåŸºäºæ— æœåŠ¡å™¨æ¶æ„çš„ AI è¯æ±‡æŸ¥è¯¢åº”ç”¨ã€‚ç”±äºé‡‡ç”¨äº† Vercel API Routesï¼Œé¡¹ç›®ç»“æ„ä¸ä¼ ç»Ÿçš„ monorepo æœ‰æ‰€ä¸åŒã€‚

## æ¶æ„å†³ç­–

### ä¸ºä»€ä¹ˆå­˜åœ¨ä»£ç é‡å¤ï¼Ÿ

é¡¹ç›®æœ€åˆè®¾è®¡ä¸ºä¼ ç»Ÿçš„ monorepo æ¶æ„ï¼Œä½¿ç”¨ shared åŒ…å…±äº«ä»£ç ã€‚ä½†åœ¨è¿ç§»åˆ° Vercel æ— æœåŠ¡å™¨æ¶æ„æ—¶ï¼Œç”±äºä»¥ä¸‹é™åˆ¶ï¼Œæˆ‘ä»¬é€‰æ‹©äº†å†…è”ä»£ç çš„æ–¹å¼ï¼š

1. **Vercel API Routes é™åˆ¶**ï¼šæ— æ³•ç›´æ¥å¼•ç”¨ workspace åŒ…
2. **æ„å»ºå¤æ‚æ€§**ï¼šé¿å…å¤æ‚çš„æ„å»ºé…ç½®
3. **éƒ¨ç½²ç®€åŒ–**ï¼šç¡®ä¿éƒ¨ç½²è¿‡ç¨‹é¡ºç•…

## é‡è¦æ–‡ä»¶ä½ç½®æŒ‡å—

### ğŸ”´ AI æç¤ºè¯

| æ–‡ä»¶è·¯å¾„ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|
| `packages/shared/src/utils/prompt.ts` | âŒ æœªä½¿ç”¨ | ä»…ä½œå‚è€ƒï¼Œä¸è¦ä¿®æ”¹ |
| **`packages/frontend/api/words/query.ts`** | âœ… **å®é™…ä½¿ç”¨** | **ç¬¬345-402è¡Œï¼Œä¿®æ”¹è¿™é‡Œï¼** |

### ğŸ”´ XML è§£æå™¨

| æ–‡ä»¶è·¯å¾„ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|
| `packages/shared/src/utils/xml-parser.ts` | âŒ æœªä½¿ç”¨ | ä»…ä½œå‚è€ƒï¼Œä¸è¦ä¿®æ”¹ |
| **`packages/frontend/api/words/query.ts`** | âœ… **å®é™…ä½¿ç”¨** | **å†…è”çš„è§£æé€»è¾‘** |

### ğŸŸ¡ ç±»å‹å®šä¹‰

| æ–‡ä»¶è·¯å¾„ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|
| `packages/shared/src/types/index.ts` | âš ï¸ éƒ¨åˆ†ä½¿ç”¨ | å‰ç«¯ç»„ä»¶ä½¿ç”¨ |
| `packages/frontend/api/words/query.ts` | âœ… å®é™…ä½¿ç”¨ | API å†…è”ç±»å‹ |

## ä¿®æ”¹æŒ‡å—

### 1. ä¿®æ”¹ AI æç¤ºè¯

```bash
# ç›´æ¥ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶çš„ç¬¬ 345-402 è¡Œ
packages/frontend/api/words/query.ts
```

æ‰¾åˆ°ä»¥ä¸‹ä»£ç å—ï¼š
```typescript
// æ„å»ºAIæç¤ºè¯
// âš ï¸ é‡è¦ï¼šè¿™æ˜¯å®é™…ä½¿ç”¨çš„AIæç¤ºè¯ï¼
const prompt = `è¯·è¯¦ç»†åˆ†æè‹±æ–‡å•è¯...`
```

### 2. ä¿®æ”¹ XML è§£æé€»è¾‘

åœ¨åŒä¸€ä¸ªæ–‡ä»¶ï¼ˆ`query.ts`ï¼‰ä¸­æ‰¾åˆ°è§£æé€»è¾‘å¹¶ä¿®æ”¹ã€‚

### 3. ä¿®æ”¹ç±»å‹å®šä¹‰

- **å‰ç«¯ç»„ä»¶ä½¿ç”¨çš„ç±»å‹**ï¼šä¿®æ”¹ `packages/shared/src/types/index.ts`
- **API ä½¿ç”¨çš„ç±»å‹**ï¼šä¿®æ”¹ `packages/frontend/api/words/query.ts` ä¸­çš„å†…è”ç±»å‹

## å¼€å‘æµç¨‹

1. **æœ¬åœ°å¼€å‘**
   ```bash
   npm run dev
   ```

2. **ä¿®æ”¹ä»£ç **
   - è®°ä½æŸ¥çœ‹æœ¬æ–‡æ¡£ç¡®å®šè¦ä¿®æ”¹çš„æ–‡ä»¶
   - ä¼˜å…ˆä¿®æ”¹ API Routes ä¸­çš„å†…è”ä»£ç 

3. **æµ‹è¯•**
   ```bash
   npm run test
   npm run build:frontend
   ```

4. **éƒ¨ç½²**
   ```bash
   git add .
   git commit -m "your message"
   git push origin main
   # Vercel ä¼šè‡ªåŠ¨éƒ¨ç½²
   ```

## å¸¸è§è¯¯åŒº

### âŒ é”™è¯¯ï¼šä¿®æ”¹ shared åŒ…æœŸæœ›å½±å“ API
```
ä¿®æ”¹ packages/shared/src/utils/prompt.ts
æœŸæœ› API è¡Œä¸ºæ”¹å˜
```

### âœ… æ­£ç¡®ï¼šç›´æ¥ä¿®æ”¹ API Routes
```
ä¿®æ”¹ packages/frontend/api/words/query.ts
API è¡Œä¸ºç«‹å³æ”¹å˜
```

## æœªæ¥æ”¹è¿›å»ºè®®

1. **ç»Ÿä¸€ä»£ç ä½ç½®**ï¼šè€ƒè™‘å®Œå…¨ç§»é™¤æœªä½¿ç”¨çš„ shared åŒ…ä»£ç 
2. **æŠ½å–å…¬å…±é€»è¾‘**ï¼šåˆ›å»º API ä¸“ç”¨çš„å·¥å…·å‡½æ•°ç›®å½•
3. **è‡ªåŠ¨åŒ–æµ‹è¯•**ï¼šæ·»åŠ æµ‹è¯•ç¡®ä¿ API å’Œå‰ç«¯çš„ä¸€è‡´æ€§

## è”ç³»æ–¹å¼

å¦‚æœ‰æ¶æ„ç›¸å…³é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ CLAUDE.md æ–‡æ¡£
2. æŸ¥çœ‹æœ¬æ¶æ„æ–‡æ¡£
3. åœ¨ GitHub Issues ä¸­æé—®